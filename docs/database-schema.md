# ğŸ“¦ PostgreSQL è³‡æ–™åº«çµæ§‹å®šç¾©ï¼ˆå«ç´„æŸèˆ‡åˆ†å€ï¼‰

æœ¬åˆå§‹æ¶æ§‹åŒ…å« 5 å¼µæ ¸å¿ƒè³‡æ–™è¡¨ï¼š

- `platform`ï¼šé›»å•†å¹³å°ä¸»æª”
- `channel`ï¼šå¹³å°ä¸‹çš„éŠ·å”®é€šè·¯
- `product`ï¼šå•†å“ä¸»æª”
- `sellpack`ï¼šå•†å“å¯éŠ·å”®å–®ä½ï¼ˆä¾‹å¦‚çµ„åˆåŒ…ï¼‰
- `order`ï¼šè¨‚å–®è³‡æ–™ï¼ˆä¾è¨‚å–®æ—¥æœŸåšåˆ†å€ï¼‰
- `global_config`ï¼šç³»çµ±è¨­å®šè¡¨

---

## ğŸ§± è³‡æ–™è¡¨ï¼š`platform`

| æ¬„ä½åç¨±     | é¡å‹         | å¯ç‚º NULL | èªªæ˜èˆ‡ç´„æŸ                     |
|--------------|--------------|------------|--------------------------------|
| id           | VARCHAR(20)       | å¦         | ä¸»éµ PRIMARY KEY               |
| name         | VARCHAR(50)  | å¦         | å¹³å°åç¨±                       |
| code         | VARCHAR(20)  | å¦         | å”¯ä¸€å¹³å°ä»£ç¢¼ï¼Œå”¯ä¸€å€¼ [INDEX]  |
| created_at   | TIMESTAMP    | å¦         | å»ºç«‹æ™‚é–“ï¼Œé è¨­ç‚º NOW()        |

---

## ğŸ§± è³‡æ–™è¡¨ï¼š`channel`

| æ¬„ä½åç¨±     | é¡å‹         | å¯ç‚º NULL | èªªæ˜èˆ‡ç´„æŸ                               |
|--------------|--------------|------------|------------------------------------------|
| id           | VARCHAR(20)       | å¦         | ä¸»éµ PRIMARY KEY                         |
| platform_id  | VARCHAR(20)          | å¦         | å¤–éµï¼Œå°æ‡‰ `platform(id)`ï¼Œ[INDEX]       |
| name         | VARCHAR(50)  | å¦         | é€šè·¯åç¨±                                 |
| code         | VARCHAR(20)  | å¦         | é€šè·¯ä»£ç¢¼ï¼Œåœ¨ç›¸åŒå¹³å°ä¸‹éœ€å”¯ä¸€ [INDEX]     |
| created_at   | TIMESTAMP    | å¦         | å»ºç«‹æ™‚é–“ï¼Œé è¨­ç‚º NOW()                   |

---

## ğŸ§± è³‡æ–™è¡¨ï¼š`product`

| æ¬„ä½åç¨±     | é¡å‹          | å¯ç‚º NULL | èªªæ˜èˆ‡ç´„æŸ                    |
|--------------|---------------|------------|-------------------------------|
| id           | VARCHAR(20)        | å¦         | ä¸»éµ PRIMARY KEY              |
| sku          | VARCHAR(30)   | å¦         | å•†å“ SKUï¼Œå”¯ä¸€å€¼ [INDEX]     |
| name         | VARCHAR(100)  | å¦         | å•†å“åç¨±                      |
| description  | TEXT          | æ˜¯         | å•†å“èªªæ˜                      |
| created_at   | TIMESTAMP     | å¦         | å»ºç«‹æ™‚é–“ï¼Œé è¨­ç‚º NOW()       |

---

## ğŸ§± è³‡æ–™è¡¨ï¼š`sellpack`

| æ¬„ä½åç¨±     | é¡å‹          | å¯ç‚º NULL | èªªæ˜èˆ‡ç´„æŸ                                   |
|--------------|---------------|------------|----------------------------------------------|
| id           | VARCHAR(20)        | å¦         | ä¸»éµ PRIMARY KEY                             |
| product_id   | VARCHAR(20)           | å¦         | å¤–éµï¼Œå°æ‡‰ `product(id)`ï¼Œ[INDEX]            |
| code         | VARCHAR(30)   | å¦         | å°å¤–éŠ·å”®ä»£ç¢¼ï¼ˆå¦‚æ¢ç¢¼ï¼‰ï¼Œæ¯å€‹å•†å“å”¯ä¸€ [INDEX] |
| pack_name    | VARCHAR(50)   | å¦         | åŒ…è£åç¨±ï¼ˆå¦‚å–®å…¥ã€ä¸‰å…¥ï¼‰                     |
| price        | NUMERIC(10,2) | å¦         | å”®åƒ¹                                         |
| created_at   | TIMESTAMP     | å¦         | å»ºç«‹æ™‚é–“ï¼Œé è¨­ç‚º NOW()                       |

---

## ğŸ§± è³‡æ–™è¡¨ï¼š`order`ï¼ˆä¾ `order_date` åˆ†å€ï¼‰

| æ¬„ä½åç¨±     | é¡å‹          | å¯ç‚º NULL | èªªæ˜èˆ‡ç´„æŸ                                          |
|--------------|---------------|------------|-----------------------------------------------------|
| id           | VARCHAR(20)        | å¦         | ä¸»éµ PRIMARY KEY                                    |
| order_no     | VARCHAR(40)   | å¦         | è¨‚å–®ç·¨è™Ÿ [INDEX]ï¼Œèˆ‡ `sellpack_id` æ‡‰å”¯ä¸€çµ„åˆ       |
| channel_id   | VARCHAR(20)           | å¦         | å¤–éµï¼Œå°æ‡‰ `channel(id)`ï¼Œ[INDEX]                   |
| product_id  | VARCHAR(20)           | æ˜¯         | å¤–éµï¼Œå°æ‡‰ `product(id)`ï¼Œ[INDEX]                  |
| sellpack_id  | VARCHAR(20)           | æ˜¯         | å¤–éµï¼Œå°æ‡‰ `sellpack(id)`ï¼Œ[INDEX]                  |
| quantity     | INT           | å¦         | è³¼è²·æ•¸é‡                                            |
| total_amount | NUMERIC(12,2) | å¦         | è¨‚å–®é‡‘é¡                                            |
| order_date   | DATE          | å¦         | è¨‚å–®æ—¥æœŸï¼ˆåˆ†å€éµï¼‰[PARTITION KEY]ï¼Œ[INDEX]         |
| created_at   | TIMESTAMP     | å¦         | å»ºç«‹æ™‚é–“ï¼Œé è¨­ç‚º NOW()                              |

> âš ï¸ æ­¤è¡¨å»ºè­°ä½¿ç”¨ `PARTITION BY RANGE (order_date)` å»ºç«‹ï¼Œä¾æœˆä»½æˆ–å¹´åº¦é€²è¡Œåˆ†å€ï¼Œæœ‰æ•ˆæå‡æŸ¥è©¢æ•ˆç‡ã€‚

---

## ğŸ§± è³‡æ–™è¡¨ï¼š`global_config`

| æ¬„ä½åç¨±     | é¡å‹          | å¯ç‚º NULL | èªªæ˜èˆ‡ç´„æŸ                                   |
|--------------|---------------|------------|----------------------------------------------|
| id           | VARCHAR(20)        | å¦         | ä¸»éµ PRIMARY KEY                             |
| value        | TEXT          | å¦         | è¨­å®šå€¼         |
| description         | TEXT   | æ˜¯         | èªªæ˜æ­¤è¨­å®šç”¨é€” |
| updated_at   | TIMESTAMP     | å¦         | å»ºç«‹æ™‚é–“ï¼Œé è¨­ç‚º NOW()                       |

---
## ğŸ”— ER åœ–é—œä¿‚

```mermaid
erDiagram
  platform ||--o{ channel : åŒ…å«
  channel ||--o{ order : æ¥æ”¶
  product ||--o{ sellpack : å®šç¾©
  sellpack ||--o{ order : çµ„æˆ
  global_config {
    id INT PK
    value TEXT
    description TEXT
    updated_at TIMESTAMP
  }
```